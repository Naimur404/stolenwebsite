(()=>{function e(o){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(o)}function o(o,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,(a=n.key,c=void 0,c=function(o,t){if("object"!==e(o)||null===o)return o;var r=o[Symbol.toPrimitive];if(void 0!==r){var n=r.call(o,t||"default");if("object"!==e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(o)}(a,"string"),"symbol"===e(c)?c:String(c)),n)}var a,c}var t=function(){function e(){!function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,(r=[{key:"init",value:function(){$(document).on("click",".btn-update-order",(function(e){e.preventDefault();var o=$(e.currentTarget);o.addClass("button-loading"),$.ajax({type:"POST",cache:!1,url:o.closest("form").prop("action"),data:o.closest("form").serialize(),success:function(e){e.error?Botble.showError(e.message):Botble.showSuccess(e.message),o.removeClass("button-loading")},error:function(e){Botble.handleError(e),o.removeClass("button-loading")}})})),$(document).on("click",".btn-trigger-send-order-recover-modal",(function(e){e.preventDefault(),$("#confirm-send-recover-email-button").data("action",$(e.currentTarget).data("action")),$("#send-order-recover-email-modal").modal("show")})),$(document).on("click",".btn-mark-order-as-completed-modal",(function(e){e.preventDefault(),$("#confirm-mark-as-completed-button").data("action",$(e.currentTarget).data("action")),$("#mark-order-as-completed-modal").modal("show")})),$(document).on("click","#confirm-send-recover-email-button",(function(e){e.preventDefault();var o=$(e.currentTarget);o.addClass("button-loading"),$.ajax({type:"POST",cache:!1,url:o.data("action"),success:function(e){e.error?Botble.showError(e.message):Botble.showSuccess(e.message),o.removeClass("button-loading"),$("#send-order-recover-email-modal").modal("hide")},error:function(e){Botble.handleError(e),o.removeClass("button-loading")}})})),$(document).on("click","#confirm-mark-as-completed-button",(function(e){e.preventDefault();var o=$(e.currentTarget);$.ajax({type:"POST",cache:!1,url:o.data("action"),beforeSend:function(){o.addClass("button-loading")},success:function(e){var o=e.error,t=e.message,r=e.data;o?Botble.showError(t):($("#mark-order-as-completed-modal").modal("hide"),Botble.showSuccess(t),r.next_url&&setTimeout((function(){return window.location.href=r.next_url}),2e3))},error:function(e){Botble.handleError(e)},completed:function(){o.removeClass("button-loading")}})}))}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();$(document).ready((function(){(new t).init()}))})();