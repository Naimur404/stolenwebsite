$((function(){$(document).on("click",".btn-trigger-add-address",(function(e){e.preventDefault(),$("#add-address-modal").modal("show")})),$(document).on("click","#confirm-add-address-button",(function(e){e.preventDefault();var o=$(e.currentTarget);o.addClass("button-loading"),$.ajax({type:"POST",cache:!1,url:o.closest(".modal-content").find("form").prop("action"),data:o.closest(".modal-content").find("form").serialize(),success:function(e){e.error?Botble.showNotice("error",e.message):(Botble.showNotice("success",e.message),$("#add-address-modal").modal("hide"),o.closest(".modal-content").find("form").get(0).reset(),$("#address-histories").load($(".page-content form").prop("action")+" #address-histories > *")),o.removeClass("button-loading")},error:function(e){Botble.handleError(e),o.removeClass("button-loading")}})})),$(document).on("click",".btn-trigger-edit-address",(function(e){e.preventDefault();var o=$(e.currentTarget),t=$("#edit-address-modal"),r=t.find(".modal-loading-block"),a=$("#edit-address-modal .modal-body .modal-form-content");a.html(""),r.removeClass("d-none"),t.modal("show"),$.ajax({type:"GET",cache:!1,url:o.data("section"),success:function(e){e.error?Botble.showNotice("error",e.message):(r.addClass("d-none"),a.html(e)),o.removeClass("button-loading")},error:function(e){Botble.handleError(e),o.removeClass("button-loading")}})})),$(document).on("click","#confirm-edit-address-button",(function(e){e.preventDefault();var o=$(e.currentTarget);o.addClass("button-loading"),$.ajax({type:"POST",cache:!1,url:o.closest(".modal-content").find("form").prop("action"),data:o.closest(".modal-content").find("form").serialize(),success:function(e){e.error?Botble.showNotice("error",e.message):(Botble.showNotice("success",e.message),$("#edit-address-modal").modal("hide"),o.closest(".modal-content").find("form").get(0).reset(),$("#address-histories").load($(".page-content form").prop("action")+" #address-histories > *")),o.removeClass("button-loading")},error:function(e){Botble.handleError(e),o.removeClass("button-loading")}})})),$(document).on("click",".deleteDialog",(function(e){e.preventDefault();var o=$(e.currentTarget);$(".delete-crud-entry").data("section",o.data("section")),$(".modal-confirm-delete").modal("show")})),$(".delete-crud-entry").on("click",(function(e){e.preventDefault();var o=$(e.currentTarget);o.addClass("button-loading");var t=o.data("section");$.ajax({url:t,type:"POST",data:{_method:"DELETE"},success:function(e){if(e.error)Botble.showError(e.message);else{Botble.showSuccess(e.message);var t=$(".page-content form").prop("action");$("#address-histories").load(t+" #address-histories > *")}o.closest(".modal").modal("hide"),o.removeClass("button-loading")},error:function(e){Botble.handleError(e),o.removeClass("button-loading")}})}))}));